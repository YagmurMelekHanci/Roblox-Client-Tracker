PROTO_0:
  PREPVARARGS 2
  LOADN R4 1
  LOADK R6 K0 ["#"]
  FASTCALL1 SELECT_VARARG R6 [+3]
  GETIMPORT R5 K2 [select]
  GETVARARGS R7 -1
  CALL R5 -1 1
  MOVE R2 R5
  LOADN R3 1
  FORNPREP R2
  FASTCALL1 SELECT_VARARG R4 [+4]
  GETIMPORT R5 K2 [select]
  MOVE R6 R4
  GETVARARGS R7 -1
  CALL R5 -1 1
  FASTCALL1 TYPEOF R5 [+3]
  MOVE R7 R5
  GETIMPORT R6 K4 [typeof]
  CALL R6 1 1
  JUMPIFNOTEQKS R6 K5 ["table"] [+27]
  LOADK R8 K6 ["%*Key"]
  MOVE R10 R1
  NAMECALL R8 R8 K7 ["format"]
  CALL R8 2 1
  MOVE R7 R8
  GETTABLE R6 R5 R7
  JUMPIFNOT R6 [+11]
  LOADK R9 K8 ["^Studio%.Ribbon%.Plugin%."]
  LOADK R10 K9 [""]
  NAMECALL R7 R6 K10 ["gsub"]
  CALL R7 3 1
  LOADK R10 K11 ["Plugin"]
  MOVE R11 R7
  NAMECALL R8 R0 K12 ["getText"]
  CALL R8 3 -1
  RETURN R8 -1
  GETTABLE R7 R5 R1
  JUMPIFNOT R7 [+5]
  GETTABLE R7 R5 R1
  JUMPIFEQKS R7 K9 [""] [+3]
  GETTABLE R7 R5 R1
  RETURN R7 1
  FORNLOOP R2
  LOADK R2 K9 [""]
  RETURN R2 1

MAIN:
  PREPVARARGS 0
  GETIMPORT R0 K1 [script]
  LOADK R2 K2 ["Ribbon"]
  NAMECALL R0 R0 K3 ["FindFirstAncestor"]
  CALL R0 2 1
  GETIMPORT R1 K5 [require]
  GETTABLEKS R3 R0 K6 ["Src"]
  GETTABLEKS R2 R3 K7 ["Types"]
  CALL R1 1 1
  DUPCLOSURE R2 K8 [PROTO_0]
  RETURN R2 1
