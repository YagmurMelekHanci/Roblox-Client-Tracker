PROTO_0:
  GETUPVAL R1 0
  GETTABLEKS R0 R1 K0 ["getQuotasAsync"]
  CALL R0 0 -1
  RETURN R0 -1

PROTO_1:
  GETIMPORT R3 K1 [pcall]
  NEWCLOSURE R4 P0
  CAPTURE VAL R2
  CALL R3 1 2
  JUMPIFNOT R3 [+7]
  FASTCALL1 TYPEOF R4 [+3]
  MOVE R6 R4
  GETIMPORT R5 K3 [typeof]
  CALL R5 1 1
  JUMPIFEQKS R5 K4 ["table"] [+7]
  GETIMPORT R5 K6 [warn]
  LOADK R6 K7 ["Error getting quotas:"]
  MOVE R7 R4
  CALL R5 2 0
  RETURN R0 0
  GETTABLEKS R5 R0 K8 ["setQuota"]
  GETTABLEKS R6 R4 K9 ["generationQuota"]
  CALL R5 1 0
  GETTABLEKS R5 R0 K10 ["setTotal"]
  GETTABLEKS R6 R4 K11 ["generationTotal"]
  CALL R5 1 0
  GETTABLEKS R5 R1 K8 ["setQuota"]
  GETTABLEKS R6 R4 K12 ["previewQuota"]
  CALL R5 1 0
  GETTABLEKS R5 R1 K10 ["setTotal"]
  GETTABLEKS R6 R4 K13 ["previewTotal"]
  CALL R5 1 0
  RETURN R0 0

MAIN:
  PREPVARARGS 0
  DUPCLOSURE R0 K0 [PROTO_1]
  RETURN R0 1
